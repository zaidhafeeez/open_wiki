{
  "title": "Centripetal Catmull–Rom spline",
  "summary": "In computer graphics, the centripetal Catmull–Rom spline is a variant form of the Catmull–Rom spline, originally formulated by Edwin Catmull and Raphael Rom, which can be evaluated using a recursive algorithm proposed by Barry and Goldman. It is a type of interpolating spline (a curve that goes through its control points) defined by four control points \n  \n    \n      \n        \n          \n            P\n          \n          \n            0\n          \n        \n        ,\n        \n          \n         ",
  "content": "---\ntitle: Centripetal Catmull–Rom spline\nurl: https://en.wikipedia.org/wiki/Centripetal_Catmull%E2%80%93Rom_spline\nlanguage: en\ncategories: [\"Category:All Wikipedia articles needing clarification\", \"Category:Articles with example C Sharp code\", \"Category:Articles with example Python (programming language) code\", \"Category:Articles with short description\", \"Category:CS1 maint: multiple names: authors list\", \"Category:Short description is different from Wikidata\", \"Category:Splines (mathematics)\", \"Category:Wikipedia articles needing clarification from September 2016\"]\nreferences: 0\nlast_modified: 2024-12-19T14:37:22Z\n---\n\n# Centripetal Catmull–Rom spline\n\n## Summary\n\nIn computer graphics, the centripetal Catmull–Rom spline is a variant form of the Catmull–Rom spline, originally formulated by Edwin Catmull and Raphael Rom, which can be evaluated using a recursive algorithm proposed by Barry and Goldman. It is a type of interpolating spline (a curve that goes through its control points) defined by four control points \n  \n    \n      \n        \n          \n            P\n          \n          \n            0\n          \n        \n        ,\n        \n          \n         \n\n## Full Content\n\nIn computer graphics, the centripetal Catmull–Rom spline is a variant form of the Catmull–Rom spline, originally formulated by Edwin Catmull and Raphael Rom, which can be evaluated using a recursive algorithm proposed by Barry and Goldman. It is a type of interpolating spline (a curve that goes through its control points) defined by four control points \n  \n    \n      \n        \n          \n            P\n          \n          \n            0\n          \n        \n        ,\n        \n          \n            P\n          \n          \n            1\n          \n        \n        ,\n        \n          \n            P\n          \n          \n            2\n          \n        \n        ,\n        \n          \n            P\n          \n          \n            3\n          \n        \n      \n    \n    {\\displaystyle \\mathbf {P} _{0},\\mathbf {P} _{1},\\mathbf {P} _{2},\\mathbf {P} _{3}}\n  \n, with the curve drawn only from \n  \n    \n      \n        \n          \n            P\n          \n          \n            1\n          \n        \n      \n    \n    {\\displaystyle \\mathbf {P} _{1}}\n  \n to \n  \n    \n      \n        \n          \n            P\n          \n          \n            2\n          \n        \n      \n    \n    {\\displaystyle \\mathbf {P} _{2}}\n  \n.\n\nDefinition\nLet \n  \n    \n      \n        \n          \n            P\n          \n          \n            i\n          \n        \n        =\n        [\n        \n          x\n          \n            i\n          \n        \n        \n        \n          y\n          \n            i\n          \n        \n        \n          ]\n          \n            T\n          \n        \n      \n    \n    {\\displaystyle \\mathbf {P} _{i}=[x_{i}\\quad y_{i}]^{T}}\n  \n denote a point. For a curve segment \n  \n    \n      \n        \n          C\n        \n      \n    \n    {\\displaystyle \\mathbf {C} }\n  \n defined by points \n  \n    \n      \n        \n          \n            P\n          \n          \n            0\n          \n        \n        ,\n        \n          \n            P\n          \n          \n            1\n          \n        \n        ,\n        \n          \n            P\n          \n          \n            2\n          \n        \n        ,\n        \n          \n            P\n          \n          \n            3\n          \n        \n      \n    \n    {\\displaystyle \\mathbf {P} _{0},\\mathbf {P} _{1},\\mathbf {P} _{2},\\mathbf {P} _{3}}\n  \n and knot sequence \n  \n    \n      \n        \n          t\n          \n            0\n          \n        \n        ,\n        \n          t\n          \n            1\n          \n        \n        ,\n        \n          t\n          \n            2\n          \n        \n        ,\n        \n          t\n          \n            3\n          \n        \n      \n    \n    {\\displaystyle t_{0},t_{1},t_{2},t_{3}}\n  \n, the centripetal Catmull–Rom spline can be produced by:\n\n  \n    \n      \n        \n          C\n        \n        =\n        \n          \n            \n              \n                t\n                \n                  2\n                \n              \n              −\n              t\n            \n            \n              \n                t\n                \n                  2\n                \n              \n              −\n              \n                t\n                \n                  1\n                \n              \n            \n          \n        \n        \n          \n            B\n          \n          \n            1\n          \n        \n        +\n        \n          \n            \n              t\n              −\n              \n                t\n                \n                  1\n                \n              \n            \n            \n              \n                t\n                \n                  2\n                \n              \n              −\n              \n                t\n                \n                  1\n                \n              \n            \n          \n        \n        \n          \n            B\n          \n          \n            2\n          \n        \n      \n    \n    {\\displaystyle \\mathbf {C} ={\\frac {t_{2}-t}{t_{2}-t_{1}}}\\mathbf {B} _{1}+{\\frac {t-t_{1}}{t_{2}-t_{1}}}\\mathbf {B} _{2}}\n  \n\nwhere\n\n  \n    \n      \n        \n          \n            B\n          \n          \n            1\n          \n        \n        =\n        \n          \n            \n              \n                t\n                \n                  2\n                \n              \n              −\n              t\n            \n            \n              \n                t\n                \n                  2\n                \n              \n              −\n              \n                t\n                \n                  0\n                \n              \n            \n          \n        \n        \n          \n            A\n          \n          \n            1\n          \n        \n        +\n        \n          \n            \n              t\n              −\n              \n                t\n                \n                  0\n                \n              \n            \n            \n              \n                t\n                \n                  2\n                \n              \n              −\n              \n                t\n                \n                  0\n                \n              \n            \n          \n        \n        \n          \n            A\n          \n          \n            2\n          \n        \n      \n    \n    {\\displaystyle \\mathbf {B} _{1}={\\frac {t_{2}-t}{t_{2}-t_{0}}}\\mathbf {A} _{1}+{\\frac {t-t_{0}}{t_{2}-t_{0}}}\\mathbf {A} _{2}}\n  \n\n  \n    \n      \n        \n          \n            B\n          \n          \n            2\n          \n        \n        =\n        \n          \n            \n              \n                t\n                \n                  3\n                \n              \n              −\n              t\n            \n            \n              \n                t\n                \n                  3\n                \n              \n              −\n              \n                t\n                \n                  1\n                \n              \n            \n          \n        \n        \n          \n            A\n          \n          \n            2\n          \n        \n        +\n        \n          \n            \n              t\n              −\n              \n                t\n                \n                  1\n                \n              \n            \n            \n              \n                t\n                \n                  3\n                \n              \n              −\n              \n                t\n                \n                  1\n                \n              \n            \n          \n        \n        \n          \n            A\n          \n          \n            3\n          \n        \n      \n    \n    {\\displaystyle \\mathbf {B} _{2}={\\frac {t_{3}-t}{t_{3}-t_{1}}}\\mathbf {A} _{2}+{\\frac {t-t_{1}}{t_{3}-t_{1}}}\\mathbf {A} _{3}}\n  \n\n  \n    \n      \n        \n          \n            A\n          \n          \n            1\n          \n        \n        =\n        \n          \n            \n              \n                t\n                \n                  1\n                \n              \n              −\n              t\n            \n            \n              \n                t\n                \n                  1\n                \n              \n              −\n              \n                t\n                \n                  0\n                \n              \n            \n          \n        \n        \n          \n            P\n          \n          \n            0\n          \n        \n        +\n        \n          \n            \n              t\n              −\n              \n                t\n                \n                  0\n                \n              \n            \n            \n              \n                t\n                \n                  1\n                \n              \n              −\n              \n                t\n                \n                  0\n                \n              \n            \n          \n        \n        \n          \n            P\n          \n          \n            1\n          \n        \n      \n    \n    {\\displaystyle \\mathbf {A} _{1}={\\frac {t_{1}-t}{t_{1}-t_{0}}}\\mathbf {P} _{0}+{\\frac {t-t_{0}}{t_{1}-t_{0}}}\\mathbf {P} _{1}}\n  \n\n  \n    \n      \n        \n          \n            A\n          \n          \n            2\n          \n        \n        =\n        \n          \n            \n              \n                t\n                \n                  2\n                \n              \n              −\n              t\n            \n            \n              \n                t\n                \n                  2\n                \n              \n              −\n              \n                t\n                \n                  1\n                \n              \n            \n          \n        \n        \n          \n            P\n          \n          \n            1\n          \n        \n        +\n        \n          \n            \n              t\n              −\n              \n                t\n                \n                  1\n                \n              \n            \n            \n              \n                t\n                \n                  2\n                \n              \n              −\n              \n                t\n                \n                  1\n                \n              \n            \n          \n        \n        \n          \n            P\n          \n          \n            2\n          \n        \n      \n    \n    {\\displaystyle \\mathbf {A} _{2}={\\frac {t_{2}-t}{t_{2}-t_{1}}}\\mathbf {P} _{1}+{\\frac {t-t_{1}}{t_{2}-t_{1}}}\\mathbf {P} _{2}}\n  \n\n  \n    \n      \n        \n          \n            A\n          \n          \n            3\n          \n        \n        =\n        \n          \n            \n              \n                t\n                \n                  3\n                \n              \n              −\n              t\n            \n            \n              \n                t\n                \n                  3\n                \n              \n              −\n              \n                t\n                \n                  2\n                \n              \n            \n          \n        \n        \n          \n            P\n          \n          \n            2\n          \n        \n        +\n        \n          \n            \n              t\n              −\n              \n                t\n                \n                  2\n                \n              \n            \n            \n              \n                t\n                \n                  3\n                \n              \n              −\n              \n                t\n                \n                  2\n                \n              \n            \n          \n        \n        \n          \n            P\n          \n          \n            3\n          \n        \n      \n    \n    {\\displaystyle \\mathbf {A} _{3}={\\frac {t_{3}-t}{t_{3}-t_{2}}}\\mathbf {P} _{2}+{\\frac {t-t_{2}}{t_{3}-t_{2}}}\\mathbf {P} _{3}}\n  \n\nand\n\n  \n    \n      \n        \n          t\n          \n            i\n            +\n            1\n          \n        \n        =\n        \n          \n            [\n            \n              \n                (\n                \n                  x\n                  \n                    i\n                    +\n                    1\n                  \n                \n                −\n                \n                  x\n                  \n                    i\n                  \n                \n                \n                  )\n                  \n                    2\n                  \n                \n                +\n                (\n                \n                  y\n                  \n                    i\n                    +\n                    1\n                  \n                \n                −\n                \n                  y\n                  \n                    i\n                  \n                \n                \n                  )\n                  \n                    2\n                  \n                \n              \n            \n            ]\n          \n          \n            α\n          \n        \n        +\n        \n          t\n          \n            i\n          \n        \n      \n    \n    {\\displaystyle t_{i+1}=\\left[{\\sqrt {(x_{i+1}-x_{i})^{2}+(y_{i+1}-y_{i})^{2}}}\\right]^{\\alpha }+t_{i}}\n  \n\nin which \n  \n    \n      \n        α\n      \n    \n    {\\displaystyle \\alpha }\n  \n ranges from 0 to 1 for knot parameterization, and \n  \n    \n      \n        i\n        =\n        0\n        ,\n        1\n        ,\n        2\n        ,\n        3\n      \n    \n    {\\displaystyle i=0,1,2,3}\n  \n with \n  \n    \n      \n        \n          t\n          \n            0\n          \n        \n        =\n        0\n      \n    \n    {\\displaystyle t_{0}=0}\n  \n. For centripetal Catmull–Rom spline, the value of \n  \n    \n      \n        α\n      \n    \n    {\\displaystyle \\alpha }\n  \n is \n  \n    \n      \n        0.5\n      \n    \n    {\\displaystyle 0.5}\n  \n. When \n  \n    \n      \n        α\n        =\n        0\n      \n    \n    {\\displaystyle \\alpha =0}\n  \n, the resulting curve is the standard uniform Catmull–Rom spline; when \n  \n    \n      \n        α\n        =\n        1\n      \n    \n    {\\displaystyle \\alpha =1}\n  \n, the result is a chordal Catmull–Rom spline.\n\nPlugging \n  \n    \n      \n        t\n        =\n        \n          t\n          \n            1\n          \n        \n      \n    \n    {\\displaystyle t=t_{1}}\n  \n into the spline equations \n  \n    \n      \n        \n          \n            A\n          \n          \n            1\n          \n        \n        ,\n        \n          \n            A\n          \n          \n            2\n          \n        \n        ,\n        \n          \n            A\n          \n          \n            3\n          \n        \n        ,\n        \n          \n            B\n          \n          \n            1\n          \n        \n        ,\n        \n          \n            B\n          \n          \n            2\n          \n        \n        ,\n      \n    \n    {\\displaystyle \\mathbf {A} _{1},\\mathbf {A} _{2},\\mathbf {A} _{3},\\mathbf {B} _{1},\\mathbf {B} _{2},}\n  \n and \n  \n    \n      \n        \n          C\n        \n      \n    \n    {\\displaystyle \\mathbf {C} }\n  \n shows that the value of the spline curve at \n  \n    \n      \n        \n          t\n          \n            1\n          \n        \n      \n    \n    {\\displaystyle t_{1}}\n  \n is \n  \n    \n      \n        \n          C\n        \n        =\n        \n          \n            P\n          \n          \n            1\n          \n        \n      \n    \n    {\\displaystyle \\mathbf {C} =\\mathbf {P} _{1}}\n  \n. Similarly, substituting \n  \n    \n      \n        t\n        =\n        \n          t\n          \n            2\n          \n        \n      \n    \n    {\\displaystyle t=t_{2}}\n  \n into the spline equations shows that \n  \n    \n      \n        \n          C\n        \n        =\n        \n          \n            P\n          \n          \n            2\n          \n        \n      \n    \n    {\\displaystyle \\mathbf {C} =\\mathbf {P} _{2}}\n  \n at \n  \n    \n      \n        \n          t\n          \n            2\n          \n        \n      \n    \n    {\\displaystyle t_{2}}\n  \n. This is true independent of the value of \n  \n    \n      \n        α\n      \n    \n    {\\displaystyle \\alpha }\n  \n since the equation for \n  \n    \n      \n        \n          t\n          \n            i\n            +\n            1\n          \n        \n      \n    \n    {\\displaystyle t_{i+1}}\n  \n is not needed to calculate the value of \n  \n    \n      \n        \n          C\n        \n      \n    \n    {\\displaystyle \\mathbf {C} }\n  \n at points \n  \n    \n      \n        \n          t\n          \n            1\n          \n        \n      \n    \n    {\\displaystyle t_{1}}\n  \n and \n  \n    \n      \n        \n          t\n          \n            2\n          \n        \n      \n    \n    {\\displaystyle t_{2}}\n  \n.\n\nThe extension to 3D points is simply achieved by considering \n  \n    \n      \n        \n          \n            P\n          \n          \n            i\n          \n        \n        =\n        [\n        \n          x\n          \n            i\n          \n        \n        \n        \n          y\n          \n            i\n          \n        \n        \n        \n          z\n          \n            i\n          \n        \n        \n          ]\n          \n            T\n          \n        \n      \n    \n    {\\displaystyle \\mathbf {P} _{i}=[x_{i}\\quad y_{i}\\quad z_{i}]^{T}}\n  \na generic 3D point \n  \n    \n      \n        \n          \n            P\n          \n          \n            i\n          \n        \n      \n    \n    {\\displaystyle \\mathbf {P} _{i}}\n  \n and\n\n  \n    \n      \n        \n          t\n          \n            i\n            +\n            1\n          \n        \n        =\n        \n          \n            [\n            \n              \n                (\n                \n                  x\n                  \n                    i\n                    +\n                    1\n                  \n                \n                −\n                \n                  x\n                  \n                    i\n                  \n                \n                \n                  )\n                  \n                    2\n                  \n                \n                +\n                (\n                \n                  y\n                  \n                    i\n                    +\n                    1\n                  \n                \n                −\n                \n                  y\n                  \n                    i\n                  \n                \n                \n                  )\n                  \n                    2\n                  \n                \n                +\n                (\n                \n                  z\n                  \n                    i\n                    +\n                    1\n                  \n                \n                −\n                \n                  z\n                  \n                    i\n                  \n                \n                \n                  )\n                  \n                    2\n                  \n                \n              \n            \n            ]\n          \n          \n            α\n          \n        \n        +\n        \n          t\n          \n            i\n          \n        \n      \n    \n    {\\displaystyle t_{i+1}=\\left[{\\sqrt {(x_{i+1}-x_{i})^{2}+(y_{i+1}-y_{i})^{2}+(z_{i+1}-z_{i})^{2}}}\\right]^{\\alpha }+t_{i}}\n\nAdvantages\nCentripetal Catmull–Rom spline has several desirable mathematical properties compared to the original and the other types of Catmull-Rom formulation. First, it will not form loop or self-intersection within a curve segment. Second, cusp will never occur within a curve segment. Third, it follows the control points more tightly.\n\nOther uses\nIn computer vision, centripetal Catmull-Rom spline has been used to formulate an active model for segmentation. The method is termed active spline model. The model is devised on the basis of active shape model, but uses centripetal Catmull-Rom spline to join two successive points (active shape model uses simple straight line), so that the total number of points necessary to depict a shape is less. The use of centripetal Catmull-Rom spline makes the training of a shape model much simpler, and it enables a better way to edit a contour after segmentation.\n\nCode example in Python\nThe following is an implementation of the Catmull–Rom spline in Python that produces the plot shown beneath.\n\nCode example in Unity C#\nCode example in Unreal C++\nSee also\nCubic Hermite splines\n\nReferences\nExternal links\nCatmull-Rom curve with no cusps and no self-intersections –  implementation in Java\nCatmull-Rom curve with no cusps and no self-intersections –  simplified implementation in C++\nCatmull-Rom splines –  interactive generation via Python, in a Jupyter notebook\nSmooth Paths Using Catmull-Rom Splines –  another versatile implementation in C++ including centripetal CR splines\n",
  "categories": [
    "Category:All Wikipedia articles needing clarification",
    "Category:Articles with example C Sharp code",
    "Category:Articles with example Python (programming language) code",
    "Category:Articles with short description",
    "Category:CS1 maint: multiple names: authors list",
    "Category:Short description is different from Wikidata",
    "Category:Splines (mathematics)",
    "Category:Wikipedia articles needing clarification from September 2016"
  ],
  "archived_date": "20241221_183048",
  "source_url": "https://en.wikipedia.org/wiki/Centripetal_Catmull%E2%80%93Rom_spline"
}