{
  "title": "Perfect digital invariant",
  "summary": "In number theory, a perfect digital invariant (PDI) is a number in a given number base (\n  \n    \n      \n        b\n      \n    \n    {\\displaystyle b}\n  \n) that is the sum of its own digits each raised to a given power (\n  \n    \n      \n        p\n      \n    \n    {\\displaystyle p}\n  \n).",
  "content": "---\ntitle: Perfect digital invariant\nurl: https://en.wikipedia.org/wiki/Perfect_digital_invariant\nlanguage: en\ncategories: [\"Category:Arithmetic dynamics\", \"Category:Articles with example Python (programming language) code\", \"Category:Articles with short description\", \"Category:Base-dependent integer sequences\", \"Category:Diophantine equations\", \"Category:Short description with empty Wikidata description\", \"Category:Webarchive template wayback links\"]\nreferences: 0\nlast_modified: 2024-12-19T14:56:15Z\n---\n\n# Perfect digital invariant\n\n## Summary\n\nIn number theory, a perfect digital invariant (PDI) is a number in a given number base (\n  \n    \n      \n        b\n      \n    \n    {\\displaystyle b}\n  \n) that is the sum of its own digits each raised to a given power (\n  \n    \n      \n        p\n      \n    \n    {\\displaystyle p}\n  \n).\n\n## Full Content\n\nIn number theory, a perfect digital invariant (PDI) is a number in a given number base (\n  \n    \n      \n        b\n      \n    \n    {\\displaystyle b}\n  \n) that is the sum of its own digits each raised to a given power (\n  \n    \n      \n        p\n      \n    \n    {\\displaystyle p}\n  \n).\n\nDefinition\nLet \n  \n    \n      \n        n\n      \n    \n    {\\displaystyle n}\n  \n be a natural number. The perfect digital invariant function (also known as a happy function, from happy numbers) for base \n  \n    \n      \n        b\n        >\n        1\n      \n    \n    {\\displaystyle b>1}\n  \n and power \n  \n    \n      \n        p\n        >\n        0\n      \n    \n    {\\displaystyle p>0}\n  \n \n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            b\n          \n        \n        :\n        \n          N\n        \n        →\n        \n          N\n        \n      \n    \n    {\\displaystyle F_{p,b}:\\mathbb {N} \\rightarrow \\mathbb {N} }\n  \n is defined as:\n\n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            b\n          \n        \n        (\n        n\n        )\n        =\n        \n          ∑\n          \n            i\n            =\n            0\n          \n          \n            k\n            −\n            1\n          \n        \n        \n          d\n          \n            i\n          \n          \n            p\n          \n        \n        .\n      \n    \n    {\\displaystyle F_{p,b}(n)=\\sum _{i=0}^{k-1}d_{i}^{p}.}\n  \n\nwhere \n  \n    \n      \n        k\n        =\n        ⌊\n        \n          log\n          \n            b\n          \n        \n        ⁡\n        \n          n\n        \n        ⌋\n        +\n        1\n      \n    \n    {\\displaystyle k=\\lfloor \\log _{b}{n}\\rfloor +1}\n  \n is the number of digits in the number in base \n  \n    \n      \n        b\n      \n    \n    {\\displaystyle b}\n  \n, and \n\n  \n    \n      \n        \n          d\n          \n            i\n          \n        \n        =\n        \n          \n            \n              n\n              \n                mod\n                \n                  \n                    b\n                    \n                      i\n                      +\n                      1\n                    \n                  \n                \n              \n              −\n              n\n              \n                \n                  mod\n                  \n                    b\n                  \n                \n                \n                  i\n                \n              \n            \n            \n              b\n              \n                i\n              \n            \n          \n        \n      \n    \n    {\\displaystyle d_{i}={\\frac {n{\\bmod {b^{i+1}}}-n{\\bmod {b}}^{i}}{b^{i}}}}\n  \n\nis the value of each digit of the number. A natural number \n  \n    \n      \n        n\n      \n    \n    {\\displaystyle n}\n  \n is a perfect digital invariant if it is a fixed point for \n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{p,b}}\n  \n, which occurs if \n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            b\n          \n        \n        (\n        n\n        )\n        =\n        n\n      \n    \n    {\\displaystyle F_{p,b}(n)=n}\n  \n. \n  \n    \n      \n        0\n      \n    \n    {\\displaystyle 0}\n  \n and \n  \n    \n      \n        1\n      \n    \n    {\\displaystyle 1}\n  \n are trivial perfect digital invariants for all \n  \n    \n      \n        b\n      \n    \n    {\\displaystyle b}\n  \n and \n  \n    \n      \n        p\n      \n    \n    {\\displaystyle p}\n  \n, all other perfect digital invariants are nontrivial perfect digital invariants.\nFor example, the number 4150 in base \n  \n    \n      \n        b\n        =\n        10\n      \n    \n    {\\displaystyle b=10}\n  \n is a perfect digital invariant with \n  \n    \n      \n        p\n        =\n        5\n      \n    \n    {\\displaystyle p=5}\n  \n, because \n  \n    \n      \n        4150\n        =\n        \n          4\n          \n            5\n          \n        \n        +\n        \n          1\n          \n            5\n          \n        \n        +\n        \n          5\n          \n            5\n          \n        \n        +\n        \n          0\n          \n            5\n          \n        \n      \n    \n    {\\displaystyle 4150=4^{5}+1^{5}+5^{5}+0^{5}}\n  \n.\nA natural number \n  \n    \n      \n        n\n      \n    \n    {\\displaystyle n}\n  \n is a sociable digital invariant if it is a periodic point for \n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{p,b}}\n  \n, where \n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            b\n          \n          \n            k\n          \n        \n        (\n        n\n        )\n        =\n        n\n      \n    \n    {\\displaystyle F_{p,b}^{k}(n)=n}\n  \n for a positive integer \n  \n    \n      \n        k\n      \n    \n    {\\displaystyle k}\n  \n (here \n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            b\n          \n          \n            k\n          \n        \n      \n    \n    {\\displaystyle F_{p,b}^{k}}\n  \n is the \n  \n    \n      \n        k\n      \n    \n    {\\displaystyle k}\n  \nth iterate of \n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{p,b}}\n  \n), and forms a cycle of period \n  \n    \n      \n        k\n      \n    \n    {\\displaystyle k}\n  \n. A perfect digital invariant is a sociable digital invariant with \n  \n    \n      \n        k\n        =\n        1\n      \n    \n    {\\displaystyle k=1}\n  \n, and a amicable digital invariant is a sociable digital invariant with \n  \n    \n      \n        k\n        =\n        2\n      \n    \n    {\\displaystyle k=2}\n  \n.\nAll natural numbers \n  \n    \n      \n        n\n      \n    \n    {\\displaystyle n}\n  \n are preperiodic points for \n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{p,b}}\n  \n, regardless of the base. This is because if \n  \n    \n      \n        k\n        ≥\n        p\n        +\n        2\n      \n    \n    {\\displaystyle k\\geq p+2}\n  \n, \n  \n    \n      \n        n\n        ≥\n        \n          b\n          \n            k\n            −\n            1\n          \n        \n        >\n        \n          b\n          \n            p\n          \n        \n        k\n      \n    \n    {\\displaystyle n\\geq b^{k-1}>b^{p}k}\n  \n, so any \n  \n    \n      \n        n\n      \n    \n    {\\displaystyle n}\n  \n will satisfy \n  \n    \n      \n        n\n        >\n        \n          F\n          \n            b\n            ,\n            p\n          \n        \n        (\n        n\n        )\n      \n    \n    {\\displaystyle n>F_{b,p}(n)}\n  \n until \n  \n    \n      \n        n\n        <\n        \n          b\n          \n            p\n            +\n            1\n          \n        \n      \n    \n    {\\displaystyle n<b^{p+1}}\n  \n. There are a finite number of natural numbers less than \n  \n    \n      \n        \n          b\n          \n            p\n            +\n            1\n          \n        \n      \n    \n    {\\displaystyle b^{p+1}}\n  \n, so the number is guaranteed to reach a periodic point or a fixed point less than \n  \n    \n      \n        \n          b\n          \n            p\n            +\n            1\n          \n        \n      \n    \n    {\\displaystyle b^{p+1}}\n  \n, making it a preperiodic point.\nNumbers in base \n  \n    \n      \n        b\n        >\n        p\n      \n    \n    {\\displaystyle b>p}\n  \n lead to fixed or periodic points of numbers \n  \n    \n      \n        n\n        ≤\n        (\n        p\n        −\n        2\n        \n          )\n          \n            p\n          \n        \n        +\n        p\n        (\n        b\n        −\n        1\n        \n          )\n          \n            p\n          \n        \n      \n    \n    {\\displaystyle n\\leq (p-2)^{p}+p(b-1)^{p}}\n  \n.\n\nThe number of iterations \n  \n    \n      \n        i\n      \n    \n    {\\displaystyle i}\n  \n needed for \n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            b\n          \n          \n            i\n          \n        \n        (\n        n\n        )\n      \n    \n    {\\displaystyle F_{p,b}^{i}(n)}\n  \n to reach a fixed point is the perfect digital invariant function's persistence of \n  \n    \n      \n        n\n      \n    \n    {\\displaystyle n}\n  \n, and undefined if it never reaches a fixed point.\n\n  \n    \n      \n        \n          F\n          \n            1\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{1,b}}\n  \n is the digit sum. The only perfect digital invariants are the single-digit numbers in base \n  \n    \n      \n        b\n      \n    \n    {\\displaystyle b}\n  \n, and there are no periodic points with prime period greater than 1.\n\n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            2\n          \n        \n      \n    \n    {\\displaystyle F_{p,2}}\n  \n reduces to \n  \n    \n      \n        \n          F\n          \n            1\n            ,\n            2\n          \n        \n      \n    \n    {\\displaystyle F_{1,2}}\n  \n, as for any power \n  \n    \n      \n        p\n      \n    \n    {\\displaystyle p}\n  \n, \n  \n    \n      \n        \n          0\n          \n            p\n          \n        \n        =\n        0\n      \n    \n    {\\displaystyle 0^{p}=0}\n  \n and \n  \n    \n      \n        \n          1\n          \n            p\n          \n        \n        =\n        1\n      \n    \n    {\\displaystyle 1^{p}=1}\n  \n.\nFor every natural number \n  \n    \n      \n        k\n        >\n        1\n      \n    \n    {\\displaystyle k>1}\n  \n, if \n  \n    \n      \n        p\n        <\n        b\n      \n    \n    {\\displaystyle p<b}\n  \n, \n  \n    \n      \n        (\n        b\n        −\n        1\n        )\n        ≡\n        0\n        \n          mod\n          \n            k\n          \n        \n      \n    \n    {\\displaystyle (b-1)\\equiv 0{\\bmod {k}}}\n  \n and \n  \n    \n      \n        (\n        p\n        −\n        1\n        )\n        ≡\n        0\n        \n          mod\n          \n            ϕ\n          \n        \n        (\n        k\n        )\n      \n    \n    {\\displaystyle (p-1)\\equiv 0{\\bmod {\\phi }}(k)}\n  \n, then for every natural number \n  \n    \n      \n        n\n      \n    \n    {\\displaystyle n}\n  \n, if \n  \n    \n      \n        n\n        ≡\n        m\n        \n          mod\n          \n            k\n          \n        \n      \n    \n    {\\displaystyle n\\equiv m{\\bmod {k}}}\n  \n, then \n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            b\n          \n        \n        (\n        n\n        )\n        ≡\n        m\n        \n          mod\n          \n            k\n          \n        \n      \n    \n    {\\displaystyle F_{p,b}(n)\\equiv m{\\bmod {k}}}\n  \n, where \n  \n    \n      \n        ϕ\n        (\n        k\n        )\n      \n    \n    {\\displaystyle \\phi (k)}\n  \n is Euler's totient function.\n\nNo upper bound can be determined for the size of perfect digital invariants in a given base and arbitrary power, and it is not currently known whether or not the number of perfect digital invariants for an arbitrary base is finite or infinite.\n\nF2,b\nBy definition, any three-digit perfect digital invariant \n  \n    \n      \n        n\n        =\n        \n          d\n          \n            2\n          \n        \n        \n          d\n          \n            1\n          \n        \n        \n          d\n          \n            0\n          \n        \n      \n    \n    {\\displaystyle n=d_{2}d_{1}d_{0}}\n  \n for \n  \n    \n      \n        \n          F\n          \n            2\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{2,b}}\n  \n with natural number digits \n  \n    \n      \n        0\n        ≤\n        \n          d\n          \n            0\n          \n        \n        <\n        b\n      \n    \n    {\\displaystyle 0\\leq d_{0}<b}\n  \n, \n  \n    \n      \n        0\n        ≤\n        \n          d\n          \n            1\n          \n        \n        <\n        b\n      \n    \n    {\\displaystyle 0\\leq d_{1}<b}\n  \n, \n  \n    \n      \n        0\n        ≤\n        \n          d\n          \n            2\n          \n        \n        <\n        b\n      \n    \n    {\\displaystyle 0\\leq d_{2}<b}\n  \n has to satisfy the cubic Diophantine equation \n  \n    \n      \n        \n          d\n          \n            0\n          \n          \n            2\n          \n        \n        +\n        \n          d\n          \n            1\n          \n          \n            2\n          \n        \n        +\n        \n          d\n          \n            2\n          \n          \n            2\n          \n        \n        =\n        \n          d\n          \n            2\n          \n        \n        \n          b\n          \n            2\n          \n        \n        +\n        \n          d\n          \n            1\n          \n        \n        b\n        +\n        \n          d\n          \n            0\n          \n        \n      \n    \n    {\\displaystyle d_{0}^{2}+d_{1}^{2}+d_{2}^{2}=d_{2}b^{2}+d_{1}b+d_{0}}\n  \n. \n  \n    \n      \n        \n          d\n          \n            2\n          \n        \n      \n    \n    {\\displaystyle d_{2}}\n  \n has to be equal to 0 or 1 for any \n  \n    \n      \n        b\n        >\n        2\n      \n    \n    {\\displaystyle b>2}\n  \n, because the maximum value \n  \n    \n      \n        n\n      \n    \n    {\\displaystyle n}\n  \n can take is \n  \n    \n      \n        n\n        =\n        (\n        2\n        −\n        1\n        \n          )\n          \n            2\n          \n        \n        +\n        2\n        (\n        b\n        −\n        1\n        \n          )\n          \n            2\n          \n        \n        =\n        1\n        +\n        2\n        (\n        b\n        −\n        1\n        \n          )\n          \n            2\n          \n        \n        <\n        2\n        \n          b\n          \n            2\n          \n        \n      \n    \n    {\\displaystyle n=(2-1)^{2}+2(b-1)^{2}=1+2(b-1)^{2}<2b^{2}}\n  \n. As a result, there are actually two related quadratic Diophantine equations to solve:\n\n  \n    \n      \n        \n          d\n          \n            0\n          \n          \n            2\n          \n        \n        +\n        \n          d\n          \n            1\n          \n          \n            2\n          \n        \n        =\n        \n          d\n          \n            1\n          \n        \n        b\n        +\n        \n          d\n          \n            0\n          \n        \n      \n    \n    {\\displaystyle d_{0}^{2}+d_{1}^{2}=d_{1}b+d_{0}}\n  \n when \n  \n    \n      \n        \n          d\n          \n            2\n          \n        \n        =\n        0\n      \n    \n    {\\displaystyle d_{2}=0}\n  \n, and\n\n  \n    \n      \n        \n          d\n          \n            0\n          \n          \n            2\n          \n        \n        +\n        \n          d\n          \n            1\n          \n          \n            2\n          \n        \n        +\n        1\n        =\n        \n          b\n          \n            2\n          \n        \n        +\n        \n          d\n          \n            1\n          \n        \n        b\n        +\n        \n          d\n          \n            0\n          \n        \n      \n    \n    {\\displaystyle d_{0}^{2}+d_{1}^{2}+1=b^{2}+d_{1}b+d_{0}}\n  \n when \n  \n    \n      \n        \n          d\n          \n            2\n          \n        \n        =\n        1\n      \n    \n    {\\displaystyle d_{2}=1}\n  \n.\nThe two-digit natural number \n  \n    \n      \n        n\n        =\n        \n          d\n          \n            1\n          \n        \n        \n          d\n          \n            0\n          \n        \n      \n    \n    {\\displaystyle n=d_{1}d_{0}}\n  \n is a perfect digital invariant in base \n\n  \n    \n      \n        b\n        =\n        \n          d\n          \n            1\n          \n        \n        +\n        \n          \n            \n              \n                d\n                \n                  0\n                \n              \n              (\n              \n                d\n                \n                  0\n                \n              \n              −\n              1\n              )\n            \n            \n              d\n              \n                1\n              \n            \n          \n        \n        .\n      \n    \n    {\\displaystyle b=d_{1}+{\\frac {d_{0}(d_{0}-1)}{d_{1}}}.}\n  \n\nThis can be proven by taking the first case, where \n  \n    \n      \n        \n          d\n          \n            2\n          \n        \n        =\n        0\n      \n    \n    {\\displaystyle d_{2}=0}\n  \n, and solving for \n  \n    \n      \n        b\n      \n    \n    {\\displaystyle b}\n  \n. This means that for some values of \n  \n    \n      \n        \n          d\n          \n            0\n          \n        \n      \n    \n    {\\displaystyle d_{0}}\n  \n and \n  \n    \n      \n        \n          d\n          \n            1\n          \n        \n      \n    \n    {\\displaystyle d_{1}}\n  \n, \n  \n    \n      \n        n\n      \n    \n    {\\displaystyle n}\n  \n is not a perfect digital invariant in any base, as \n  \n    \n      \n        \n          d\n          \n            1\n          \n        \n      \n    \n    {\\displaystyle d_{1}}\n  \n is not a divisor of \n  \n    \n      \n        \n          d\n          \n            0\n          \n        \n        (\n        \n          d\n          \n            0\n          \n        \n        −\n        1\n        )\n      \n    \n    {\\displaystyle d_{0}(d_{0}-1)}\n  \n. Moreover, \n  \n    \n      \n        \n          d\n          \n            0\n          \n        \n        >\n        1\n      \n    \n    {\\displaystyle d_{0}>1}\n  \n, because if \n  \n    \n      \n        \n          d\n          \n            0\n          \n        \n        =\n        0\n      \n    \n    {\\displaystyle d_{0}=0}\n  \n or \n  \n    \n      \n        \n          d\n          \n            0\n          \n        \n        =\n        1\n      \n    \n    {\\displaystyle d_{0}=1}\n  \n, then \n  \n    \n      \n        b\n        =\n        \n          d\n          \n            1\n          \n        \n      \n    \n    {\\displaystyle b=d_{1}}\n  \n, which contradicts the earlier statement that \n  \n    \n      \n        0\n        ≤\n        \n          d\n          \n            1\n          \n        \n        <\n        b\n      \n    \n    {\\displaystyle 0\\leq d_{1}<b}\n  \n.\nThere are no three-digit perfect digital invariants for \n  \n    \n      \n        \n          F\n          \n            2\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{2,b}}\n  \n, which can be proven by taking the second case, where \n  \n    \n      \n        \n          d\n          \n            2\n          \n        \n        =\n        1\n      \n    \n    {\\displaystyle d_{2}=1}\n  \n, and letting \n  \n    \n      \n        \n          d\n          \n            0\n          \n        \n        =\n        b\n        −\n        \n          a\n          \n            0\n          \n        \n      \n    \n    {\\displaystyle d_{0}=b-a_{0}}\n  \n and \n  \n    \n      \n        \n          d\n          \n            1\n          \n        \n        =\n        b\n        −\n        \n          a\n          \n            1\n          \n        \n      \n    \n    {\\displaystyle d_{1}=b-a_{1}}\n  \n. Then the Diophantine equation for the three-digit perfect digital invariant becomes \n\n  \n    \n      \n        (\n        b\n        −\n        \n          a\n          \n            0\n          \n        \n        \n          )\n          \n            2\n          \n        \n        +\n        (\n        b\n        −\n        \n          a\n          \n            1\n          \n        \n        \n          )\n          \n            2\n          \n        \n        +\n        1\n        =\n        \n          b\n          \n            2\n          \n        \n        +\n        (\n        b\n        −\n        \n          a\n          \n            1\n          \n        \n        )\n        b\n        +\n        (\n        b\n        −\n        \n          a\n          \n            0\n          \n        \n        )\n      \n    \n    {\\displaystyle (b-a_{0})^{2}+(b-a_{1})^{2}+1=b^{2}+(b-a_{1})b+(b-a_{0})}\n  \n\n  \n    \n      \n        \n          b\n          \n            2\n          \n        \n        −\n        2\n        \n          a\n          \n            0\n          \n        \n        b\n        +\n        \n          a\n          \n            0\n          \n          \n            2\n          \n        \n        +\n        \n          b\n          \n            2\n          \n        \n        −\n        2\n        \n          a\n          \n            1\n          \n        \n        b\n        +\n        \n          a\n          \n            1\n          \n          \n            2\n          \n        \n        +\n        1\n        =\n        \n          b\n          \n            2\n          \n        \n        +\n        (\n        b\n        −\n        \n          a\n          \n            1\n          \n        \n        )\n        b\n        +\n        (\n        b\n        −\n        \n          a\n          \n            0\n          \n        \n        )\n      \n    \n    {\\displaystyle b^{2}-2a_{0}b+a_{0}^{2}+b^{2}-2a_{1}b+a_{1}^{2}+1=b^{2}+(b-a_{1})b+(b-a_{0})}\n  \n\n  \n    \n      \n        2\n        \n          b\n          \n            2\n          \n        \n        −\n        2\n        (\n        \n          a\n          \n            0\n          \n        \n        +\n        \n          a\n          \n            1\n          \n        \n        )\n        b\n        +\n        \n          a\n          \n            0\n          \n          \n            2\n          \n        \n        +\n        \n          a\n          \n            1\n          \n          \n            2\n          \n        \n        +\n        1\n        =\n        \n          b\n          \n            2\n          \n        \n        +\n        (\n        b\n        −\n        \n          a\n          \n            1\n          \n        \n        )\n        b\n        +\n        (\n        b\n        −\n        \n          a\n          \n            0\n          \n        \n        )\n      \n    \n    {\\displaystyle 2b^{2}-2(a_{0}+a_{1})b+a_{0}^{2}+a_{1}^{2}+1=b^{2}+(b-a_{1})b+(b-a_{0})}\n  \n\n  \n    \n      \n        \n          b\n          \n            2\n          \n        \n        +\n        (\n        b\n        −\n        2\n        (\n        \n          a\n          \n            0\n          \n        \n        +\n        \n          a\n          \n            1\n          \n        \n        )\n        )\n        b\n        +\n        \n          a\n          \n            0\n          \n          \n            2\n          \n        \n        +\n        \n          a\n          \n            1\n          \n          \n            2\n          \n        \n        +\n        1\n        =\n        \n          b\n          \n            2\n          \n        \n        +\n        (\n        b\n        −\n        \n          a\n          \n            1\n          \n        \n        )\n        b\n        +\n        (\n        b\n        −\n        \n          a\n          \n            0\n          \n        \n        )\n      \n    \n    {\\displaystyle b^{2}+(b-2(a_{0}+a_{1}))b+a_{0}^{2}+a_{1}^{2}+1=b^{2}+(b-a_{1})b+(b-a_{0})}\n  \n\n  \n    \n      \n        2\n        (\n        \n          a\n          \n            0\n          \n        \n        +\n        \n          a\n          \n            1\n          \n        \n        )\n        >\n        \n          a\n          \n            1\n          \n        \n      \n    \n    {\\displaystyle 2(a_{0}+a_{1})>a_{1}}\n  \n for all values of \n  \n    \n      \n        0\n        <\n        \n          a\n          \n            1\n          \n        \n        ≤\n        b\n      \n    \n    {\\displaystyle 0<a_{1}\\leq b}\n  \n. Thus, there are no solutions to the Diophantine equation, and there are no three-digit perfect digital invariants for \n  \n    \n      \n        \n          F\n          \n            2\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{2,b}}\n  \n.\n\nF3,b\nBy definition, any four-digit perfect digital invariant \n  \n    \n      \n        n\n      \n    \n    {\\displaystyle n}\n  \n for \n  \n    \n      \n        \n          F\n          \n            3\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{3,b}}\n  \n with natural number digits \n  \n    \n      \n        0\n        ≤\n        \n          d\n          \n            0\n          \n        \n        <\n        b\n      \n    \n    {\\displaystyle 0\\leq d_{0}<b}\n  \n, \n  \n    \n      \n        0\n        ≤\n        \n          d\n          \n            1\n          \n        \n        <\n        b\n      \n    \n    {\\displaystyle 0\\leq d_{1}<b}\n  \n, \n  \n    \n      \n        0\n        ≤\n        \n          d\n          \n            2\n          \n        \n        <\n        b\n      \n    \n    {\\displaystyle 0\\leq d_{2}<b}\n  \n, \n  \n    \n      \n        0\n        ≤\n        \n          d\n          \n            3\n          \n        \n        <\n        b\n      \n    \n    {\\displaystyle 0\\leq d_{3}<b}\n  \n has to satisfy the quartic Diophantine equation \n  \n    \n      \n        \n          d\n          \n            0\n          \n          \n            3\n          \n        \n        +\n        \n          d\n          \n            1\n          \n          \n            3\n          \n        \n        +\n        \n          d\n          \n            2\n          \n          \n            3\n          \n        \n        +\n        \n          d\n          \n            3\n          \n          \n            3\n          \n        \n        =\n        \n          d\n          \n            3\n          \n        \n        \n          b\n          \n            3\n          \n        \n        +\n        \n          d\n          \n            2\n          \n        \n        \n          b\n          \n            2\n          \n        \n        +\n        \n          d\n          \n            1\n          \n        \n        b\n        +\n        \n          d\n          \n            0\n          \n        \n      \n    \n    {\\displaystyle d_{0}^{3}+d_{1}^{3}+d_{2}^{3}+d_{3}^{3}=d_{3}b^{3}+d_{2}b^{2}+d_{1}b+d_{0}}\n  \n. \n  \n    \n      \n        \n          d\n          \n            3\n          \n        \n      \n    \n    {\\displaystyle d_{3}}\n  \n has to be equal to 0, 1, 2 for any \n  \n    \n      \n        b\n        >\n        3\n      \n    \n    {\\displaystyle b>3}\n  \n, because the maximum value \n  \n    \n      \n        n\n      \n    \n    {\\displaystyle n}\n  \n can take is \n  \n    \n      \n        n\n        =\n        (\n        3\n        −\n        2\n        \n          )\n          \n            3\n          \n        \n        +\n        3\n        (\n        b\n        −\n        1\n        \n          )\n          \n            3\n          \n        \n        =\n        1\n        +\n        3\n        (\n        b\n        −\n        1\n        \n          )\n          \n            3\n          \n        \n        <\n        3\n        \n          b\n          \n            3\n          \n        \n      \n    \n    {\\displaystyle n=(3-2)^{3}+3(b-1)^{3}=1+3(b-1)^{3}<3b^{3}}\n  \n. As a result, there are actually three related cubic Diophantine equations to solve\n\n  \n    \n      \n        \n          d\n          \n            0\n          \n          \n            3\n          \n        \n        +\n        \n          d\n          \n            1\n          \n          \n            3\n          \n        \n        +\n        \n          d\n          \n            2\n          \n          \n            3\n          \n        \n        =\n        \n          d\n          \n            2\n          \n        \n        \n          b\n          \n            2\n          \n        \n        +\n        \n          d\n          \n            1\n          \n        \n        b\n        +\n        \n          d\n          \n            0\n          \n        \n      \n    \n    {\\displaystyle d_{0}^{3}+d_{1}^{3}+d_{2}^{3}=d_{2}b^{2}+d_{1}b+d_{0}}\n  \n when \n  \n    \n      \n        \n          d\n          \n            3\n          \n        \n        =\n        0\n      \n    \n    {\\displaystyle d_{3}=0}\n  \n\n  \n    \n      \n        \n          d\n          \n            0\n          \n          \n            3\n          \n        \n        +\n        \n          d\n          \n            1\n          \n          \n            3\n          \n        \n        +\n        \n          d\n          \n            2\n          \n          \n            3\n          \n        \n        +\n        1\n        =\n        \n          b\n          \n            3\n          \n        \n        +\n        \n          d\n          \n            2\n          \n        \n        \n          b\n          \n            2\n          \n        \n        +\n        \n          d\n          \n            1\n          \n        \n        b\n        +\n        \n          d\n          \n            0\n          \n        \n      \n    \n    {\\displaystyle d_{0}^{3}+d_{1}^{3}+d_{2}^{3}+1=b^{3}+d_{2}b^{2}+d_{1}b+d_{0}}\n  \n when \n  \n    \n      \n        \n          d\n          \n            3\n          \n        \n        =\n        1\n      \n    \n    {\\displaystyle d_{3}=1}\n  \n\n  \n    \n      \n        \n          d\n          \n            0\n          \n          \n            3\n          \n        \n        +\n        \n          d\n          \n            1\n          \n          \n            3\n          \n        \n        +\n        \n          d\n          \n            2\n          \n          \n            3\n          \n        \n        +\n        8\n        =\n        2\n        \n          b\n          \n            3\n          \n        \n        +\n        \n          d\n          \n            2\n          \n        \n        \n          b\n          \n            2\n          \n        \n        +\n        \n          d\n          \n            1\n          \n        \n        b\n        +\n        \n          d\n          \n            0\n          \n        \n      \n    \n    {\\displaystyle d_{0}^{3}+d_{1}^{3}+d_{2}^{3}+8=2b^{3}+d_{2}b^{2}+d_{1}b+d_{0}}\n  \n when \n  \n    \n      \n        \n          d\n          \n            3\n          \n        \n        =\n        2\n      \n    \n    {\\displaystyle d_{3}=2}\n  \n\nWe take the first case, where \n  \n    \n      \n        \n          d\n          \n            3\n          \n        \n        =\n        0\n      \n    \n    {\\displaystyle d_{3}=0}\n  \n.\n\nb = 3k + 1\nLet \n  \n    \n      \n        k\n      \n    \n    {\\displaystyle k}\n  \n be a positive integer and the number base \n  \n    \n      \n        b\n        =\n        3\n        k\n        +\n        1\n      \n    \n    {\\displaystyle b=3k+1}\n  \n. Then:\n\n  \n    \n      \n        \n          n\n          \n            1\n          \n        \n        =\n        k\n        \n          b\n          \n            2\n          \n        \n        +\n        (\n        2\n        k\n        +\n        1\n        )\n        b\n      \n    \n    {\\displaystyle n_{1}=kb^{2}+(2k+1)b}\n  \n is a perfect digital invariant for \n  \n    \n      \n        \n          F\n          \n            3\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{3,b}}\n  \n for all \n  \n    \n      \n        k\n      \n    \n    {\\displaystyle k}\n  \n.\n\n  \n    \n      \n        \n          n\n          \n            2\n          \n        \n        =\n        k\n        \n          b\n          \n            2\n          \n        \n        +\n        (\n        2\n        k\n        +\n        1\n        )\n        b\n        +\n        1\n      \n    \n    {\\displaystyle n_{2}=kb^{2}+(2k+1)b+1}\n  \n is a perfect digital invariant for \n  \n    \n      \n        \n          F\n          \n            3\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{3,b}}\n  \n for all \n  \n    \n      \n        k\n      \n    \n    {\\displaystyle k}\n  \n.\n\n  \n    \n      \n        \n          n\n          \n            3\n          \n        \n        =\n        (\n        k\n        +\n        1\n        )\n        \n          b\n          \n            2\n          \n        \n        +\n        (\n        2\n        k\n        +\n        1\n        )\n      \n    \n    {\\displaystyle n_{3}=(k+1)b^{2}+(2k+1)}\n  \n is a perfect digital invariant for \n  \n    \n      \n        \n          F\n          \n            3\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{3,b}}\n  \n for all \n  \n    \n      \n        k\n      \n    \n    {\\displaystyle k}\n  \n.\n\nb = 3k + 2\nLet \n  \n    \n      \n        k\n      \n    \n    {\\displaystyle k}\n  \n be a positive integer and the number base \n  \n    \n      \n        b\n        =\n        3\n        k\n        +\n        2\n      \n    \n    {\\displaystyle b=3k+2}\n  \n. Then:\n\n  \n    \n      \n        \n          n\n          \n            1\n          \n        \n        =\n        k\n        \n          b\n          \n            2\n          \n        \n        +\n        (\n        2\n        k\n        +\n        1\n        )\n      \n    \n    {\\displaystyle n_{1}=kb^{2}+(2k+1)}\n  \n is a perfect digital invariant for \n  \n    \n      \n        \n          F\n          \n            3\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{3,b}}\n  \n for all \n  \n    \n      \n        k\n      \n    \n    {\\displaystyle k}\n  \n.\n\nb = 6k + 4\nLet \n  \n    \n      \n        k\n      \n    \n    {\\displaystyle k}\n  \n be a positive integer and the number base \n  \n    \n      \n        b\n        =\n        6\n        k\n        +\n        4\n      \n    \n    {\\displaystyle b=6k+4}\n  \n. Then:\n\n  \n    \n      \n        \n          n\n          \n            4\n          \n        \n        =\n        k\n        \n          b\n          \n            2\n          \n        \n        +\n        (\n        3\n        k\n        +\n        2\n        )\n        b\n        +\n        (\n        2\n        k\n        +\n        1\n        )\n      \n    \n    {\\displaystyle n_{4}=kb^{2}+(3k+2)b+(2k+1)}\n  \n is a perfect digital invariant for \n  \n    \n      \n        \n          F\n          \n            3\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{3,b}}\n  \n for all \n  \n    \n      \n        k\n      \n    \n    {\\displaystyle k}\n  \n.\n\nFp,b\nAll numbers are represented in base \n  \n    \n      \n        b\n      \n    \n    {\\displaystyle b}\n  \n.\n\nExtension to negative integers\nPerfect digital invariants can be extended to the negative integers by use of a signed-digit representation to represent each integer.\n\nBalanced ternary\nIn balanced ternary, the digits are 1, −1 and 0. This results in the following:\n\nWith odd powers \n  \n    \n      \n        p\n        ≡\n        1\n        \n          mod\n          \n            2\n          \n        \n      \n    \n    {\\displaystyle p\\equiv 1{\\bmod {2}}}\n  \n, \n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            \n              bal\n            \n            3\n          \n        \n      \n    \n    {\\displaystyle F_{p,{\\text{bal}}3}}\n  \n reduces down to digit sum iteration, as \n  \n    \n      \n        (\n        −\n        1\n        \n          )\n          \n            p\n          \n        \n        =\n        −\n        1\n      \n    \n    {\\displaystyle (-1)^{p}=-1}\n  \n, \n  \n    \n      \n        \n          0\n          \n            p\n          \n        \n        =\n        0\n      \n    \n    {\\displaystyle 0^{p}=0}\n  \n and \n  \n    \n      \n        \n          1\n          \n            p\n          \n        \n        =\n        1\n      \n    \n    {\\displaystyle 1^{p}=1}\n  \n.\nWith even powers \n  \n    \n      \n        p\n        ≡\n        0\n        \n          mod\n          \n            2\n          \n        \n      \n    \n    {\\displaystyle p\\equiv 0{\\bmod {2}}}\n  \n, \n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            \n              bal\n            \n            3\n          \n        \n      \n    \n    {\\displaystyle F_{p,{\\text{bal}}3}}\n  \n indicates whether the number is even or odd, as the sum of each digit will indicate divisibility by 2 if and only if the sum of digits ends in 0. As \n  \n    \n      \n        \n          0\n          \n            p\n          \n        \n        =\n        0\n      \n    \n    {\\displaystyle 0^{p}=0}\n  \n and \n  \n    \n      \n        (\n        −\n        1\n        \n          )\n          \n            p\n          \n        \n        =\n        \n          1\n          \n            p\n          \n        \n        =\n        1\n      \n    \n    {\\displaystyle (-1)^{p}=1^{p}=1}\n  \n, for every pair of digits 1 or −1, their sum is 0 and the sum of their squares is 2.\n\nRelation to happy numbers\nA happy number \n  \n    \n      \n        n\n      \n    \n    {\\displaystyle n}\n  \n for a given base \n  \n    \n      \n        b\n      \n    \n    {\\displaystyle b}\n  \n and a given power \n  \n    \n      \n        p\n      \n    \n    {\\displaystyle p}\n  \n is a preperiodic point for the perfect digital invariant function \n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{p,b}}\n  \n such that the \n  \n    \n      \n        m\n      \n    \n    {\\displaystyle m}\n  \n-th iteration of \n  \n    \n      \n        \n          F\n          \n            p\n            ,\n            b\n          \n        \n      \n    \n    {\\displaystyle F_{p,b}}\n  \n is equal to the trivial perfect digital invariant \n  \n    \n      \n        1\n      \n    \n    {\\displaystyle 1}\n  \n, and an unhappy number is one such that there exists no such \n  \n    \n      \n        m\n      \n    \n    {\\displaystyle m}\n  \n.\n\nProgramming example\nThe example below implements the perfect digital invariant function described in the definition above to search for perfect digital invariants and cycles in Python. This can be used to find happy numbers.\n\nSee also\nArithmetic dynamics\nDudeney number\nFactorion\nHappy number\nKaprekar's constant\nKaprekar number\nMeertens number\nNarcissistic number\nPerfect digit-to-digit invariant\nSum-product number\n\nReferences\nExternal links\nDigital Invariants\n",
  "categories": [
    "Category:Arithmetic dynamics",
    "Category:Articles with example Python (programming language) code",
    "Category:Articles with short description",
    "Category:Base-dependent integer sequences",
    "Category:Diophantine equations",
    "Category:Short description with empty Wikidata description",
    "Category:Webarchive template wayback links"
  ],
  "archived_date": "20241220_214804",
  "source_url": "https://en.wikipedia.org/wiki/Perfect_digital_invariant"
}